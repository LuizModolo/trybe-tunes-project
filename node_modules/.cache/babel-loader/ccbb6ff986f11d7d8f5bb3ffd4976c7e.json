{"ast":null,"code":"var _jsxFileName = \"/Users/luizmodolo/trybe/projects/sd-015-a-project-trybetunes/src/pages/Search.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Button from '../components/Button';\nimport Header from '../components/Header';\nimport Input from '../components/Input';\nimport Loading from '../components/Loading';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Search extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = ({\n      target\n    }) => {\n      const {\n        name\n      } = target;\n      const value = target.type === 'checkbox' ? target.checked : target.value;\n      this.setState({\n        [name]: value\n      }, this.handleSearch);\n    };\n\n    this.handleSearch = () => {\n      const {\n        name\n      } = this.state;\n      const minCaracterLogin = 1;\n\n      if (name.length > minCaracterLogin) {\n        this.setState({\n          isSearchButtonDisabled: false\n        });\n      } else {\n        this.setState({\n          isSearchButtonDisabled: true\n        });\n      }\n    };\n\n    this.buttonSearch = async event => {\n      event.preventDefault();\n      const {\n        name\n      } = this.state;\n      this.setState({\n        loading: true\n      }, async () => {\n        const artistList = await searchAlbumsAPI(name);\n        this.setState({\n          artists: artistList,\n          loading: false,\n          artNameState: name,\n          name: ''\n        });\n      });\n    };\n\n    this.state = {\n      artists: [],\n      name: '',\n      isSearchButtonDisabled: true,\n      loading: false,\n      artNameState: ''\n    };\n  }\n\n  render() {\n    const {\n      isSearchButtonDisabled,\n      name,\n      loading,\n      artists,\n      artNameState\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-search\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 20\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            testeid: \"search-artist-input\",\n            type: \"text\",\n            name: \"name\",\n            value: name,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            testeidB: \"search-artist-button\",\n            nameButton: \"Pesquisar\",\n            isDisabled: isSearchButtonDisabled,\n            ButtonClick: this.buttonSearch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: `Resultado de álbuns de: ${artNameState}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: !artists.length ? /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Nenhum \\xE1lbum foi encontrado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 36\n            }, this) : artists.map(artist => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                \"data-testid\": `link-to-album-${artist.collectionId}`,\n                to: `/album/${artist.collectionId}`,\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: artist.artworkUrl100,\n                  alt: artist.artistName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: artist.collectionName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: artist.artistName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 23\n              }, this)\n            }, artist.collectionId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/luizmodolo/trybe/projects/sd-015-a-project-trybetunes/src/pages/Search.jsx"],"names":["React","Component","Link","Button","Header","Input","Loading","searchAlbumsAPI","Search","constructor","handleChange","target","name","value","type","checked","setState","handleSearch","state","minCaracterLogin","length","isSearchButtonDisabled","buttonSearch","event","preventDefault","loading","artistList","artists","artNameState","render","map","artist","collectionId","artworkUrl100","artistName","collectionName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Button from '../components/Button';\nimport Header from '../components/Header';\nimport Input from '../components/Input';\nimport Loading from '../components/Loading';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\n\nclass Search extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      artists: [],\n      name: '',\n      isSearchButtonDisabled: true,\n      loading: false,\n      artNameState: '',\n    };\n  }\n\n  handleChange = ({ target }) => {\n    const { name } = target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    this.setState({\n      [name]: value,\n    }, this.handleSearch);\n  };\n\n  handleSearch = () => {\n    const { name } = this.state;\n    const minCaracterLogin = 1;\n    if (name.length > minCaracterLogin) {\n      this.setState({ isSearchButtonDisabled: false });\n    } else {\n      this.setState({ isSearchButtonDisabled: true });\n    }\n  }\n\n  buttonSearch = async (event) => {\n    event.preventDefault();\n    const { name } = this.state;\n    this.setState(\n      { loading: true },\n      async () => {\n        const artistList = await searchAlbumsAPI(name);\n        this.setState({\n          artists: artistList,\n          loading: false,\n          artNameState: name,\n          name: '',\n        });\n      },\n    );\n  }\n\n  render() {\n    const { isSearchButtonDisabled, name, loading, artists, artNameState } = this.state;\n    return (\n      <div data-testid=\"page-search\">\n        <Header />\n        {loading ? <Loading /> : (\n          <div>\n            <div>\n              <Input\n                testeid=\"search-artist-input\"\n                type=\"text\"\n                name=\"name\"\n                value={ name }\n                onChange={ this.handleChange }\n              />\n              <Button\n                testeidB=\"search-artist-button\"\n                nameButton=\"Pesquisar\"\n                isDisabled={ isSearchButtonDisabled }\n                ButtonClick={ this.buttonSearch }\n              />\n            </div>\n            <div>\n              <h2>\n                {`Resultado de álbuns de: ${artNameState}`}\n              </h2>\n              <div>\n                {!artists.length ? <p>Nenhum álbum foi encontrado</p>\n                  : artists.map((artist) => (\n                    <div key={ artist.collectionId }>\n                      <Link\n                        data-testid={ `link-to-album-${artist.collectionId}` }\n                        to={ `/album/${artist.collectionId}` }\n                      >\n                        <img src={ artist.artworkUrl100 } alt={ artist.artistName } />\n                        <h2>{artist.collectionName}</h2>\n                        <p>{artist.artistName}</p>\n                      </Link>\n                    </div>))}\n              </div>\n            </div>\n          </div>)}\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}