{"ast":null,"code":"var _jsxFileName = \"/Users/luizmodolo/trybe/projects/sd-015-a-project-trybetunes/src/components/FormProfile.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { updateUser } from '../services/userAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass FormProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = ({\n      target\n    }) => {\n      const {\n        name\n      } = target;\n      const value = target.type === 'checkbox' ? target.checked : target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.validateFields = () => {\n      const {\n        name,\n        email,\n        description,\n        image\n      } = this.state;\n\n      if (name !== '' && email !== '' && description !== '' && image !== '') {\n        this.setState({\n          isButtonDisabled: false\n        });\n      } else {\n        this.setState({\n          isButtonDisabled: true\n        });\n      }\n    };\n\n    this.saveProfileInfo = async () => {\n      const {\n        name,\n        email,\n        description,\n        image\n      } = this.state;\n      this.setState({\n        loading: true\n      }, async () => {\n        const userInfo = await updateUser({\n          name,\n          email,\n          description,\n          image\n        });\n        this.setState({ ...userInfo,\n          loading: false\n        });\n      });\n    };\n\n    this.state = {\n      loading: false,\n      isButtonDisabled: true,\n      name: this.props.name,\n      email: this.props.email,\n      image: this.props.image,\n      description: this.props.description\n    };\n  }\n\n  render() {\n    const {\n      name,\n      email,\n      description,\n      image\n    } = this.state;\n    const {\n      isButtonDisabled\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"edit-input-image\",\n        children: [' ', \"Imagem:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-testid\": \"edit-input-image\",\n          id: \"edit-input-image\",\n          name: \"name\",\n          type: \"text\",\n          value: image,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"edit-input-name\",\n        children: [' ', \"Nome:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-testid\": \"edit-input-name\",\n          id: \"edit-input-name\",\n          name: \"name\",\n          type: \"email\",\n          value: name,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"edit-input-email\",\n        children: [' ', \"E-mail:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-testid\": \"edit-input-email\",\n          id: \"edit-input-email\",\n          name: \"name\",\n          type: \"text\",\n          value: email,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"edit-input-description\",\n        children: [' ', \"Descri\\xE7\\xE3o:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-testid\": \"edit-input-description\",\n          id: \"edit-input-description\",\n          name: \"name\",\n          type: \"text\",\n          value: description,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        \"data-testid\": \"edit-button-save\",\n        type: \"button\",\n        disabled: isButtonDisabled,\n        onClick: this.saveProfileInfo,\n        children: \"Salvar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nFormProfile.propTypes = {\n  name: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  image: PropTypes.string.isRequired\n};\nexport default FormProfile;","map":{"version":3,"sources":["/Users/luizmodolo/trybe/projects/sd-015-a-project-trybetunes/src/components/FormProfile.jsx"],"names":["React","Component","PropTypes","updateUser","FormProfile","constructor","props","handleChange","target","name","value","type","checked","setState","validateFields","email","description","image","state","isButtonDisabled","saveProfileInfo","loading","userInfo","render","propTypes","string","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { updateUser } from '../services/userAPI';\n\nclass FormProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      isButtonDisabled: true,\n      name: this.props.name,\n      email: this.props.email,\n      image: this.props.image,\n      description: this.props.description,\n    };\n  }\n\n  handleChange = ({ target }) => {\n    const { name } = target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  validateFields = () => {\n    const { name, email, description, image } = this.state;\n    if (name !== '' && email !== '' && description !== '' && image !== '') {\n      this.setState({ isButtonDisabled: false });\n    } else {\n      this.setState({ isButtonDisabled: true });\n    }\n  }\n\n  saveProfileInfo = async () => {\n    const { name, email, description, image } = this.state;\n    this.setState(\n      { loading: true },\n      async () => {\n        const userInfo = await updateUser({ name, email, description, image });\n        this.setState({\n          ...userInfo,\n          loading: false,\n        });\n      },\n    );\n  }\n\n  render() {\n    const { name, email, description, image } = this.state;\n    const { isButtonDisabled } = this.state;\n    return (\n      <div>\n        <label htmlFor=\"edit-input-image\">\n          {' '}\n          Imagem:\n          <input\n            data-testid=\"edit-input-image\"\n            id=\"edit-input-image\"\n            name=\"name\"\n            type=\"text\"\n            value={ image }\n            onChange={ this.handleChange }\n          />\n        </label>\n        <label htmlFor=\"edit-input-name\">\n          {' '}\n          Nome:\n          <input\n            data-testid=\"edit-input-name\"\n            id=\"edit-input-name\"\n            name=\"name\"\n            type=\"email\"\n            value={ name }\n            onChange={ this.handleChange }\n          />\n        </label>\n        <label htmlFor=\"edit-input-email\">\n          {' '}\n          E-mail:\n          <input\n            data-testid=\"edit-input-email\"\n            id=\"edit-input-email\"\n            name=\"name\"\n            type=\"text\"\n            value={ email }\n            onChange={ this.handleChange }\n          />\n        </label>\n        <label htmlFor=\"edit-input-description\">\n          {' '}\n          Descrição:\n          <input\n            data-testid=\"edit-input-description\"\n            id=\"edit-input-description\"\n            name=\"name\"\n            type=\"text\"\n            value={ description }\n            onChange={ this.handleChange }\n          />\n        </label>\n        <button\n          data-testid=\"edit-button-save\"\n          type=\"button\"\n          disabled={ isButtonDisabled }\n          onClick={ this.saveProfileInfo }\n        >\n          Salvar\n\n        </button>\n      </div>\n    );\n  }\n}\n\nFormProfile.propTypes = {\n  name: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  image: PropTypes.string.isRequired,\n};\n\nexport default FormProfile;\n"]},"metadata":{},"sourceType":"module"}